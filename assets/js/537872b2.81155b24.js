"use strict";(self.webpackChunktiny=self.webpackChunktiny||[]).push([[457],{4666:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"bonus-RTL","title":"Bonus Rtl","description":"- In this section we will install and use Ride The Lightning (RTL)!","source":"@site/docs/bonus-RTL.md","sourceDirName":".","slug":"/bonus-RTL","permalink":"/nixos-mutinynet-tutorial/bonus-RTL","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"Bonus Rtl","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Chans Invoices","permalink":"/nixos-mutinynet-tutorial/chans-invoices"},"next":{"title":"Bonus Fulcrum","permalink":"/nixos-mutinynet-tutorial/bonus-Fulcrum"}}');var t=s(4848),o=s(8453);const r={title:"Bonus Rtl",sidebar_position:6},l="BONUS: Ride The Lightning",c={},a=[{value:"Add RTL to your config",id:"add-rtl-to-your-config",level:2},{value:"Switch to the new config",id:"switch-to-the-new-config",level:2},{value:"Start an SSH tunnel",id:"start-an-ssh-tunnel",level:2},{value:"Use RTL in your browser",id:"use-rtl-in-your-browser",level:2}];function d(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",input:"input",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"bonus-ride-the-lightning",children:"BONUS: Ride The Lightning"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"In this section we will install and use Ride The Lightning (RTL)!"}),"\n",(0,t.jsx)(e.li,{children:"RTL is a webapp GUI for lightning nodes."}),"\n",(0,t.jsx)(e.li,{children:"It is compatible with LND, CLN, and Eclair."}),"\n",(0,t.jsx)(e.li,{children:"We're using it with CLN, of course."}),"\n"]}),"\n",(0,t.jsx)(e.h1,{id:"exercise-install-and-use-rtl",children:"Exercise: Install and use RTL"}),"\n",(0,t.jsx)(e.h2,{id:"add-rtl-to-your-config",children:"Add RTL to your config"}),"\n",(0,t.jsx)(e.p,{children:"Copy this into your config:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-nix",children:"  services.rtl = {\n    enable = true;\n    nodes.clightning.enable = true;\n  };\n"})}),"\n",(0,t.jsx)(e.h2,{id:"switch-to-the-new-config",children:"Switch to the new config"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"sudo nixos-rebuild switch --flake /etc/nixos/#btcpp-berlin-mutinynet\n"})}),"\n",(0,t.jsx)(e.h2,{id:"start-an-ssh-tunnel",children:"Start an SSH tunnel"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"SSH tunnels are the best way to access admin interfaces like RTL which really are not meant to be exposed publicly."}),"\n",(0,t.jsx)(e.li,{children:"This guarantees that only someone with SSH access to our machine can control our Lightning node."}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"Open a terminal window and start a new SSH session like this:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-sh",children:"ssh -L 3000:127.0.0.1:3000 bitcoiner@<VPS IP address>\n"})}),"\n",(0,t.jsxs)(e.p,{children:["This will open an SSH tunnel from ",(0,t.jsx)(e.code,{children:"localhost"})," on your VPS (where RTL is  on port 3000) to ",(0,t.jsx)(e.code,{children:"localhost"})," on your local machine."]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"The tunnel will continue to work as long as you keep the SSH session open."}),"\n",(0,t.jsx)(e.li,{children:"If you're having trouble connecting, try deactivating any VPNs and restarting the tunnel."}),"\n",(0,t.jsx)(e.li,{children:"Make sure you don't have two tunnels open to the same port."}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"use-rtl-in-your-browser",children:"Use RTL in your browser"}),"\n",(0,t.jsxs)(e.p,{children:["You can now open a browser to ",(0,t.jsx)(e.code,{children:"localhost:3000"})," and this should open RTL."]}),"\n",(0,t.jsx)(e.p,{children:"Go back to your SSH session and grab your RTL password:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-sh",children:"sudo cat /etc/nix-bitcoin-secrets/rtl-password\n"})}),"\n",(0,t.jsx)(e.p,{children:"Paste your RTL password into your browser window and you're in!"}),"\n",(0,t.jsx)(e.p,{children:"You can now control your CLN node from a user-friendly UI."}),"\n",(0,t.jsxs)(e.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(e.li,{className:"task-list-item",children:[(0,t.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Install RTL"]}),"\n",(0,t.jsxs)(e.li,{className:"task-list-item",children:[(0,t.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Create an SSH tunnel to your RTL instance"]}),"\n",(0,t.jsxs)(e.li,{className:"task-list-item",children:[(0,t.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Use RTL for great glory"]}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>r,x:()=>l});var i=s(6540);const t={},o=i.createContext(t);function r(n){const e=i.useContext(o);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:r(n.components),i.createElement(o.Provider,{value:e},n.children)}}}]);