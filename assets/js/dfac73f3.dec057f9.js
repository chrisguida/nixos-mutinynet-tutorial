"use strict";(self.webpackChunktiny=self.webpackChunktiny||[]).push([[618],{369:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"REQUIRED-CLEANUP","title":"Required Cleanup","description":"- In this section we will withdraw all our play money from our nodes and close all our channels.","source":"@site/docs/REQUIRED-CLEANUP.md","sourceDirName":".","slug":"/REQUIRED-CLEANUP","permalink":"/nixos-mutinynet-tutorial/REQUIRED-CLEANUP","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"title":"Required Cleanup","sidebar_position":10},"sidebar":"tutorialSidebar","previous":{"title":"Bonus Zeus","permalink":"/nixos-mutinynet-tutorial/bonus-Zeus"},"next":{"title":"Credits","permalink":"/nixos-mutinynet-tutorial/credits"}}');var i=l(4848),t=l(8453);const r={title:"Required Cleanup",sidebar_position:10},o="REQUIRED: Cleanup",a={},c=[{value:"Close all your channels:",id:"close-all-your-channels",level:2},{value:"Track the closes on chain and make sure they all succeed",id:"track-the-closes-on-chain-and-make-sure-they-all-succeed",level:2},{value:"Once all your channels are closed, withdraw all your money from the node",id:"once-all-your-channels-are-closed-withdraw-all-your-money-from-the-node",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",input:"input",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"required-cleanup",children:"REQUIRED: Cleanup"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"In this section we will withdraw all our play money from our nodes and close all our channels."}),"\n",(0,i.jsx)(n.li,{children:"This will help tidy things up on the mutinynet chain once the workshop is over."}),"\n",(0,i.jsx)(n.li,{children:"I will destroy all the droplets at the end of the day."}),"\n"]}),"\n",(0,i.jsx)(n.h1,{id:"close-all-your-channels-and-withdraw-or-donate-all-your-money",children:"Close all your channels and withdraw or donate all your money"}),"\n",(0,i.jsx)(n.h2,{id:"close-all-your-channels",children:"Close all your channels:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"lightning-cli listpeers | jq -r '.peers[] | .id' | xargs -I {} lightning-cli close {}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"track-the-closes-on-chain-and-make-sure-they-all-succeed",children:"Track the closes on chain and make sure they all succeed"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["You can keep track of the closes with ",(0,i.jsx)(n.code,{children:"lightning-cli listpeerchannels"})," and ",(0,i.jsx)(n.code,{children:"lightning-cli listfunds"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"once-all-your-channels-are-closed-withdraw-all-your-money-from-the-node",children:"Once all your channels are closed, withdraw all your money from the node"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"To withdraw to an address you generate in Sparrow:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"lightning-cli withdraw <your address> all\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"To donate all your mutinysats to Chris:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"lightning-cli withdraw tb1qdq6ttfganrlhch5jrv27ewtnnpwphp96hfq7m2 all\n"})}),"\n",(0,i.jsx)(n.p,{children:"Let me know when you've finished withdrawing your money so I can shut down your droplet. These things aren't free."}),"\n",(0,i.jsx)(n.p,{children:"Hope you enjoyed the workshop!"}),"\n",(0,i.jsx)(n.p,{children:"--cguida"}),"\n",(0,i.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Close all your channels"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Withdraw all your sats"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Notify Chris when this is done so he can destroy your VPS"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,l)=>{l.d(n,{R:()=>r,x:()=>o});var s=l(6540);const i={},t=s.createContext(i);function r(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);