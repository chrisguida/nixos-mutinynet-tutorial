"use strict";(self.webpackChunktiny=self.webpackChunktiny||[]).push([[502],{8453:(n,e,s)=>{s.d(e,{R:()=>i,x:()=>o});var t=s(6540);const r={},l=t.createContext(r);function i(n){const e=t.useContext(l);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:i(n.components),t.createElement(l.Provider,{value:e},n.children)}},8555:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>a,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"bonus-Fulcrum","title":"Bonus Fulcrum","description":"- In this section we will install and use Fulcrum.","source":"@site/docs/bonus-Fulcrum.md","sourceDirName":".","slug":"/bonus-Fulcrum","permalink":"/nixos-mutinynet-tutorial/bonus-Fulcrum","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"title":"Bonus Fulcrum","sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"Bonus Rtl","permalink":"/nixos-mutinynet-tutorial/bonus-RTL"},"next":{"title":"Bonus Mempool","permalink":"/nixos-mutinynet-tutorial/bonus-Mempool"}}');var r=s(4848),l=s(8453);const i={title:"Bonus Fulcrum",sidebar_position:7},o="BONUS: Fulcrum",a={},c=[{value:"Add Fulcrum to your config",id:"add-fulcrum-to-your-config",level:2},{value:"Switch to the new config",id:"switch-to-the-new-config",level:2},{value:"Start an SSH tunnel",id:"start-an-ssh-tunnel",level:2},{value:"Install Sparrow",id:"install-sparrow",level:2},{value:"Run Sparrow",id:"run-sparrow",level:2},{value:"Connect Sparrow to your Fulcrum instance",id:"connect-sparrow-to-your-fulcrum-instance",level:2},{value:"Restart in Testnet Mode",id:"restart-in-testnet-mode",level:2},{value:"Create a wallet and send some transactions",id:"create-a-wallet-and-send-some-transactions",level:2}];function u(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",input:"input",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"bonus-fulcrum",children:"BONUS: Fulcrum"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"In this section we will install and use Fulcrum."}),"\n",(0,r.jsx)(e.li,{children:"Fulcrum is a high-performance full-index personal electrum server."}),"\n",(0,r.jsx)(e.li,{children:"You can use it as the backend for many wallet, including Sparrow and Electrum."}),"\n",(0,r.jsx)(e.li,{children:"We'll try it with Sparrow in this section."}),"\n"]}),"\n",(0,r.jsx)(e.h1,{id:"exercise-install-and-run-fulcrum",children:"Exercise: Install and run Fulcrum"}),"\n",(0,r.jsx)(e.h2,{id:"add-fulcrum-to-your-config",children:"Add Fulcrum to your config"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-nix",children:"  services.fulcrum = {\n    enable = true;\n  };\n"})}),"\n",(0,r.jsx)(e.h2,{id:"switch-to-the-new-config",children:"Switch to the new config"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"sudo nixos-rebuild switch --flake /etc/nixos/#btcpp-berlin-mutinynet\n"})}),"\n",(0,r.jsx)(e.h2,{id:"start-an-ssh-tunnel",children:"Start an SSH tunnel"}),"\n",(0,r.jsx)(e.p,{children:"Then, open a terminal window and start a new SSH session like this:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sh",children:"ssh -L 50001:127.0.0.1:50001 bitcoiner@<VPS IP address>\n"})}),"\n",(0,r.jsx)(e.p,{children:"If you want to use the same SSH session for both RTL and Fulcrum, you can instead do:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sh",children:"ssh -L 3000:127.0.0.1:3000 -L 50001:127.0.0.1:50001 bitcoiner@<VPS IP address>\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["This will open an SSH tunnel from ",(0,r.jsx)(e.code,{children:"localhost"})," on your VPS (where Fulcrum is exposed on port 50001) to localhost on your local machine."]}),"\n",(0,r.jsx)(e.li,{children:"If you're having trouble connecting, try deactivating any VPNs and restarting the tunnel."}),"\n",(0,r.jsx)(e.li,{children:"Make sure you don't have two tunnels open to the same port."}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"You can now use your Fulcrum server as a backend for any desktop wallet, such as Sparrow."}),"\n",(0,r.jsx)(e.h2,{id:"install-sparrow",children:"Install Sparrow"}),"\n",(0,r.jsxs)(e.p,{children:["Go to ",(0,r.jsx)(e.a,{href:"https://sparrowwallet.com/download/",children:"https://sparrowwallet.com/download/"})," and install Sparrow for your machine."]}),"\n",(0,r.jsx)(e.h2,{id:"run-sparrow",children:"Run Sparrow"}),"\n",(0,r.jsx)(e.p,{children:"The exact method will vary depending on your OS."}),"\n",(0,r.jsx)(e.h2,{id:"connect-sparrow-to-your-fulcrum-instance",children:"Connect Sparrow to your Fulcrum instance"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Go to File->Preferences->Server->Edit Existing Connection"}),"\n",(0,r.jsxs)(e.li,{children:['In "URL" put ',(0,r.jsx)(e.code,{children:"127.0.0.1"})," and ",(0,r.jsx)(e.code,{children:"50001"})," for the port"]}),"\n",(0,r.jsxs)(e.li,{children:["Make sure ",(0,r.jsx)(e.code,{children:"SSL"})," is off"]}),"\n",(0,r.jsxs)(e.li,{children:["Make sure ",(0,r.jsx)(e.code,{children:"Use Proxy"})," is off"]}),"\n",(0,r.jsxs)(e.li,{children:["Click ",(0,r.jsx)(e.code,{children:"Test Connection"}),'. This should say "Connected to Fulcrum"']}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"restart-in-testnet-mode",children:"Restart in Testnet Mode"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Go to Tools->Restart in Testnet to be able to interact with Mutinynet wallets."}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"create-a-wallet-and-send-some-transactions",children:"Create a wallet and send some transactions"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Your CLN node can be used as a second on-chain mutinynet wallet"}),"\n",(0,r.jsx)(e.li,{children:"You can also send to your fellow mutinynet users"}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(e.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Install Fulcrum"]}),"\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Create an SSH tunnel to your Fulcrum instance"]}),"\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Connect Sparrow Desktop to your Fulcrum instance"]}),"\n"]})]})}function d(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(u,{...n})}):u(n)}}}]);